# Generated by Selenium IDE
import time
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.alert import Alert

class TestNoFeatureModelSelected():
    def setup_method(self, method):
        self.driver = webdriver.Chrome()
        self.vars = {}
        self.base_url = "http://localhost:5000"  # Ajusta según tu servidor
  
    def teardown_method(self, method):
        self.driver.quit()
  
    def test_no_feature_model_selected(self):
        # Paso 1: Iniciar sesión
        self.driver.get(f"{self.base_url}/login")
        time.sleep(2)
        self.driver.set_window_size(912, 1011)
        self.driver.find_element(By.ID, "email").click()
        self.driver.find_element(By.ID, "email").send_keys("user1@example.com")
        self.driver.find_element(By.ID, "password").send_keys("1234")
        self.driver.find_element(By.ID, "submit").click()
        time.sleep(2)

        # Paso 2: Navegar a "Seleccionar Feature Models"
        self.driver.get(f"{self.base_url}/cart/select_models")
        time.sleep(2)

        # Paso 3: Intentar añadir al carrito sin seleccionar modelos
        self.driver.find_element(By.ID, "add-to-cart-btn").click()
        time.sleep(2)

        # Paso 4: Validar el mensaje de alerta
        alert = Alert(self.driver)
        alert_text = alert.text
        expected_message = "Por favor, selecciona al menos un modelo antes de continuar."  # Ajusta el texto según el mensaje real

        assert alert_text == expected_message, f"Mensaje inesperado: {alert_text}"
        print("El mensaje de advertencia apareció correctamente.")

        # Paso 5: Aceptar la alerta
        alert.accept()
